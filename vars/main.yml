---
#Required system packages
packages:
  - subversion
  - libncurses5-dev
  - libssl-dev
  - libxml2-dev
  - liblua5.2-dev
  - lua5.2
  - uuid-dev
  - libjansson-dev
  - libsqlite3-dev
  - libsrtp0-dev
  - srtp-utils
  - mysql-server
  - unixodbc-dev
  - libmyodbc
  - build-essential

#Path to pjproject install
pjproject_prefix: /usr

#Default versions, that should be used if no other override is supplied:
asterisk_packages:
  - name: dahdi
    vcs: subversion
    url: http://svn.asterisk.org/svn/dahdi/linux-complete/tags/2.6.1+2.6.1
    dest: "{{source_dir}}/dahdi"
    make: make
    install: make install

  - name: libpri
    vcs: subversion
    url: http://svn.asterisk.org/svn/libpri/tags/1.4.14
    dest: "{{source_dir}}/libpri"
    make: make
    install: make install && make config

  - name: pjproject
    vcs: git
    url: https://github.com/xytis/pjproject
    dest: "{{source_dir}}/pjproject"
    version: master
    configure: ./configure --prefix={{pjproject_prefix}} --enable-shared CFLAGS="-DNDEBUG"
    make: make dep && NDEBUG=1 make
    install: make install

  - name: asterisk
    vcs: subversion
    url: http://svn.asterisk.org/svn/asterisk/trunk/12
    dest: "{{source_dir}}/asterisk"
    configure: ./configure --with-srtp --with-unixodbc --with-pjproject={{pjproject_prefix}}
    make: make
    install: make install && make config

