---
#Default user for asterisk install.
asterisk_user:      asterisk
asterisk_group:     asterisk

asterisk_install_method: source

#Paths for source and cache
data_dir:           "{{asterisk_dir}}"
source_dir:         "{{data_dir}}/source"
cache_dir:          "{{data_dir}}/cache"

#Default configurations, that should be used if no other override is supplied:
#dahdi:
#  vcs: subversion
#  url: http://svn.asterisk.org/svn/dahdi/linux-complete/tags/2.6.1+2.6.1
#  dest: "{{source_dir}}/dahdi"
#  make: make
#  install: make install && make config

#libpri:
#  vcs: subversion
#  url: http://svn.asterisk.org/svn/libpri/tags/1.4.14
#  dest: "{{source_dir}}/libpri"
#  make: make
#  install: make install

asterisk:
  vcs: subversion
  url: http://svn.asterisk.org/svn/asterisk/tags/11.10.0/
  dest: "{{source_dir}}/asterisk"
  configure: >
    echo "export CFLAGS+= -DNDEBUG" > res/pjproject/user.mak &&
    ./configure --with-srtp --with-unixodbc --with-crypto --with-ssl #&&
    #curl https://gist.github.com/xytis/7820491/raw | patch -p0
  make: "make -j `cat /proc/cpuinfo | grep processor | wc -l`"
  install: make install && make config
  music:
    - EXTRA-SOUNDS-EN-WAV
    - EXTRA-SOUNDS-EN-ULAW
    - EXTRA-SOUNDS-EN-ALAW
    - EXTRA-SOUNDS-EN-GSM
    - CORE-SOUNDS-EN-WAV
    - CORE-SOUNDS-EN-ULAW
    - CORE-SOUNDS-EN-ALAW
    - CORE-SOUNDS-EN-GSM
    - MOH-OPSOUND-WAV
    - MOH-OPSOUND-ULAW
    - MOH-OPSOUND-ALAW
    - MOH-OPSOUND-GSM

